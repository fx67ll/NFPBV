(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7abff30e"],{"17c0":function(e,t,i){"use strict";i("8805")},"52ab":function(e,t,i){"use strict";i("533f")},"533f":function(e,t,i){},8805:function(e,t,i){},"8d81":function(e,t,i){var o;(function(r){"use strict";function s(e,t){var i=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(i>>16);return o<<16|65535&i}function n(e,t){return e<<t|e>>>32-t}function a(e,t,i,o,r,a){return s(n(s(s(t,e),s(o,a)),r),i)}function l(e,t,i,o,r,s,n){return a(t&i|~t&o,e,t,r,s,n)}function u(e,t,i,o,r,s,n){return a(t&o|i&~o,e,t,r,s,n)}function m(e,t,i,o,r,s,n){return a(t^i^o,e,t,r,s,n)}function c(e,t,i,o,r,s,n){return a(i^(t|~o),e,t,r,s,n)}function g(e,t){var i,o,r,n,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var g=1732584193,d=-271733879,f=-1732584194,p=271733878;for(i=0;i<e.length;i+=16)o=g,r=d,n=f,a=p,g=l(g,d,f,p,e[i],7,-680876936),p=l(p,g,d,f,e[i+1],12,-389564586),f=l(f,p,g,d,e[i+2],17,606105819),d=l(d,f,p,g,e[i+3],22,-1044525330),g=l(g,d,f,p,e[i+4],7,-176418897),p=l(p,g,d,f,e[i+5],12,1200080426),f=l(f,p,g,d,e[i+6],17,-1473231341),d=l(d,f,p,g,e[i+7],22,-45705983),g=l(g,d,f,p,e[i+8],7,1770035416),p=l(p,g,d,f,e[i+9],12,-1958414417),f=l(f,p,g,d,e[i+10],17,-42063),d=l(d,f,p,g,e[i+11],22,-1990404162),g=l(g,d,f,p,e[i+12],7,1804603682),p=l(p,g,d,f,e[i+13],12,-40341101),f=l(f,p,g,d,e[i+14],17,-1502002290),d=l(d,f,p,g,e[i+15],22,1236535329),g=u(g,d,f,p,e[i+1],5,-165796510),p=u(p,g,d,f,e[i+6],9,-1069501632),f=u(f,p,g,d,e[i+11],14,643717713),d=u(d,f,p,g,e[i],20,-373897302),g=u(g,d,f,p,e[i+5],5,-701558691),p=u(p,g,d,f,e[i+10],9,38016083),f=u(f,p,g,d,e[i+15],14,-660478335),d=u(d,f,p,g,e[i+4],20,-405537848),g=u(g,d,f,p,e[i+9],5,568446438),p=u(p,g,d,f,e[i+14],9,-1019803690),f=u(f,p,g,d,e[i+3],14,-187363961),d=u(d,f,p,g,e[i+8],20,1163531501),g=u(g,d,f,p,e[i+13],5,-1444681467),p=u(p,g,d,f,e[i+2],9,-51403784),f=u(f,p,g,d,e[i+7],14,1735328473),d=u(d,f,p,g,e[i+12],20,-1926607734),g=m(g,d,f,p,e[i+5],4,-378558),p=m(p,g,d,f,e[i+8],11,-2022574463),f=m(f,p,g,d,e[i+11],16,1839030562),d=m(d,f,p,g,e[i+14],23,-35309556),g=m(g,d,f,p,e[i+1],4,-1530992060),p=m(p,g,d,f,e[i+4],11,1272893353),f=m(f,p,g,d,e[i+7],16,-155497632),d=m(d,f,p,g,e[i+10],23,-1094730640),g=m(g,d,f,p,e[i+13],4,681279174),p=m(p,g,d,f,e[i],11,-358537222),f=m(f,p,g,d,e[i+3],16,-722521979),d=m(d,f,p,g,e[i+6],23,76029189),g=m(g,d,f,p,e[i+9],4,-640364487),p=m(p,g,d,f,e[i+12],11,-421815835),f=m(f,p,g,d,e[i+15],16,530742520),d=m(d,f,p,g,e[i+2],23,-995338651),g=c(g,d,f,p,e[i],6,-198630844),p=c(p,g,d,f,e[i+7],10,1126891415),f=c(f,p,g,d,e[i+14],15,-1416354905),d=c(d,f,p,g,e[i+5],21,-57434055),g=c(g,d,f,p,e[i+12],6,1700485571),p=c(p,g,d,f,e[i+3],10,-1894986606),f=c(f,p,g,d,e[i+10],15,-1051523),d=c(d,f,p,g,e[i+1],21,-2054922799),g=c(g,d,f,p,e[i+8],6,1873313359),p=c(p,g,d,f,e[i+15],10,-30611744),f=c(f,p,g,d,e[i+6],15,-1560198380),d=c(d,f,p,g,e[i+13],21,1309151649),g=c(g,d,f,p,e[i+4],6,-145523070),p=c(p,g,d,f,e[i+11],10,-1120210379),f=c(f,p,g,d,e[i+2],15,718787259),d=c(d,f,p,g,e[i+9],21,-343485551),g=s(g,o),d=s(d,r),f=s(f,n),p=s(p,a);return[g,d,f,p]}function d(e){var t,i="",o=32*e.length;for(t=0;t<o;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function f(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function p(e){return d(g(f(e),8*e.length))}function h(e,t){var i,o,r=f(e),s=[],n=[];for(s[15]=n[15]=void 0,r.length>16&&(r=g(r,8*e.length)),i=0;i<16;i+=1)s[i]=909522486^r[i],n[i]=1549556828^r[i];return o=g(s.concat(f(t)),512+8*t.length),d(g(n.concat(o),640))}function v(e){var t,i,o="0123456789abcdef",r="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+=o.charAt(t>>>4&15)+o.charAt(15&t);return r}function k(e){return unescape(encodeURIComponent(e))}function F(e){return p(k(e))}function y(e){return v(F(e))}function b(e,t){return h(k(e),k(t))}function N(e,t){return v(b(e,t))}function C(e,t,i){return t?i?b(t,e):N(t,e):i?F(e):y(e)}o=function(){return C}.call(t,i,t,e),void 0===o||(e.exports=o)})()},dd7b:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-box",class:this.isLogin?"form-success":""},[i("div",{staticClass:"container"},[e._m(0),i("div",{staticClass:"form",class:{"form-fadeout":this.isLogin,"form-fadein":!this.isLogin,"form-shake":!this.isSuccess}},[i("div",{staticClass:"form-login",class:this.isRegister?"form-toggle-none":"form-toggle-show"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.userName,expression:"loginForm.userName"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.loginForm.userName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin()},input:function(t){t.target.composing||e.$set(e.loginForm,"userName",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.passWord,expression:"loginForm.passWord"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.loginForm.passWord},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin()},input:function(t){t.target.composing||e.$set(e.loginForm,"passWord",t.target.value)}}}),i("el-button",{on:{click:function(t){return e.handleLogin()}}},[e._v("Login")]),i("p",{staticClass:"message"},[e._v("\n\t\t\t\t\t还没有账户?\n\t\t\t\t\t"),i("a",{attrs:{href:"#"},on:{click:function(t){return e.createAccount()}}},[e._v("立刻创建")])])],1),i("div",{staticClass:"form-register",class:this.isRegister?"form-toggle-show":"form-toggle-none"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.userName,expression:"registerForm.userName"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.registerForm.userName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"userName",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.passWord,expression:"registerForm.passWord"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.registerForm.passWord},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"passWord",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.confimPassWord,expression:"registerForm.confimPassWord"}],attrs:{type:"password",placeholder:"Confirm Password"},domProps:{value:e.registerForm.confimPassWord},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"confimPassWord",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.email,expression:"registerForm.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.registerForm.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"email",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.phone,expression:"registerForm.phone"}],attrs:{type:"text",placeholder:"Phone"},domProps:{value:e.registerForm.phone},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"phone",t.target.value)}}}),i("el-button",{on:{click:function(t){return e.handleRegister()}}},[e._v("Register")]),i("p",{staticClass:"message"},[e._v("\n\t\t\t\t\t已经有了一个账户?\n\t\t\t\t\t"),i("a",{attrs:{href:"#"},on:{click:function(t){return e.loginNow()}}},[e._v("立刻登录")])])],1)])]),i("el-dialog",{attrs:{title:"登录配置",visible:e.isNeedCookie,width:"390px",top:"170px","show-close":!1,"modal-append-to-body":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.isNeedCookie=t}}},[i("div",{staticClass:"tip-box"},[i("div",{staticClass:"tip-item"},[e._v("是否记住账号密码：")]),i("div",{staticClass:"tip-item"},[i("el-checkbox",{model:{value:e.isRememberMe,callback:function(t){e.isRememberMe=t},expression:"isRememberMe"}})],1)]),i("div",{staticClass:"tip-box"},[i("div",{staticClass:"tip-item"},[e._v("设置记住过期时间:")]),i("div",{staticClass:"tip-item"},[i("el-select",{attrs:{placeholder:"请选择记住过期时间"},model:{value:e.loginForm.validityTime,callback:function(t){e.$set(e.loginForm,"validityTime",t)},expression:"loginForm.validityTime"}},e._l(e.validityTimeOptions,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),i("div",{staticClass:"tip-box"},[e._v("Tips：暂不提供修改密码，如有需要请联系管理员 ~")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkLoginOption()}}},[e._v("确\n\t\t\t\t定")])],1)]),e._m(1),i("fx67ll-footer",{attrs:{fontColor:"#ffffff"}})],1)},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h1",[e._v("\n\t\t\tWelcome! ヽ(✿ﾟ▽ﾟ)ノ\n\t\t\t"),i("br"),e._v("\n\t\t\tThis is fx67ll's Nodejs Project Powered By Express & MongoDB ~\n\t\t")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"bg-bubbles"},[i("li"),i("li"),i("li"),i("li"),i("li"),i("li"),i("li"),i("li"),i("li"),i("li")])}],s=i("b775");function n(e){return Object(s["a"])({url:"/signup",method:"post",data:e})}function a(e){return Object(s["a"])({url:"/login",method:"post",data:e})}var l=i("c46f"),u=i("c1df"),m=i.n(u),c=i("a78e"),g=i.n(c),d=i("8d81"),f=i.n(d),p={name:"nodeLogin",data:function(){return{year:m()().format("YYYY"),isLogin:!1,isRegister:!1,isSuccess:!0,isNeedCookie:!1,isRememberMe:!1,validityTimeOptions:[{value:86400,label:"24小时"},{value:604800,label:"7天"},{value:2592e3,label:"30天"},{value:15552e3,label:"180天"},{value:31536e3,label:"365天"}],token:"",loginForm:{userName:"",passWord:"",validityTime:86400,isFromCookie:!1},registerForm:{userName:"",passWord:"",confimPassWord:"",email:"",phone:"",level:16}}},mounted:function(){this.ifRememberMe(),document.body.clientWidth>1166&&this.showTips()},methods:{createAccount:function(){this.isRegister=!this.isRegister},loginNow:function(){this.isRegister=!this.isRegister},handleRegister:function(){var e=this,t=this;this.objectHasNull(this.registerForm)?this.submitWarning("注册信息均不能为空！"):this.registerForm.passWord===this.registerForm.confimPassWord?(delete this.registerForm.confimPassWord,this.registerForm.passWord=f()(this.registerForm.passWord),n(this.registerForm).then((function(i){0!==i.status&&(e.isSuccess=!1),0===i.status&&(e.loginForm.userName=e.registerForm.userName,e.loginForm.passWord="",e.isRegister=!e.isRegister,e.authOK("提示","注册成功！请登录~"),setTimeout((function(){t.registerForm={userName:"",passWord:"",confimPassWord:"",email:"",phone:"",level:16}}),1e3))}))):this.submitWarning("两次输入的密码不一致！")},handleLogin:function(){var e,t,i=this;this.objectHasNull(this.loginForm)?this.submitWarning("账号或密码不能为空！"):(this.isLogin=!this.isLogin,g.a.getJSON("Login-Info")?(e=g.a.getJSON("Login-Info").userName,t=g.a.getJSON("Login-Info").passWord):(e="",t=""),this.loginForm.isFromCookie&&this.loginForm.userName===e&&this.loginForm.passWord===t||(this.loginForm.passWord=f()(this.loginForm.passWord)),delete this.loginForm.isFromCookie,a(this.loginForm).then((function(e){0!==e.status&&i.finishedLogin(!1),0===e.status&&i.isNeedRememberMe(e)})))},isNeedRememberMe:function(e){var t=this.loginForm.validityTime/86400,i=window.location.href;g.a.set("User-Token",e.token,{expires:t,path:i}),!g.a.get("rememberMe")||!g.a.getJSON("Login-Info")||g.a.getJSON("Login-Info")&&this.loginForm.userName!==g.a.getJSON("Login-Info").userName?(this.token=e.token,this.isNeedCookie=!0):this.finishedLogin(!0)},checkLoginOption:function(){var e=window.location.href;if(this.isRememberMe){var t=this.loginForm.validityTime/86400;g.a.remove("User-token"),g.a.set("User-Token",this.token,{expires:t,path:e}),g.a.set("rememberMe",this.isRememberMe,{path:e}),g.a.set("Login-Info",{userName:this.loginForm.userName,passWord:this.loginForm.passWord,validityTime:this.loginForm.validityTime,isFromCookie:!0},{path:e})}else g.a.remove("rememberMe"),g.a.remove("Login-Info");this.finishedLogin(!0)},finishedLogin:function(e){var t=this;e?(this.authOK("提示","登录成功！"),setTimeout((function(){t.$router.push({name:"student"})}),600),setTimeout((function(){t.isLogin=!t.isLogin,t.isSuccess=e,t.loginForm={userName:"",passWord:"",validityTime:86400,isFromCookie:!1}}),1e3)):setTimeout((function(){t.isLogin=!t.isLogin,t.isSuccess=e,t.loginForm={userName:"",passWord:"",validityTime:86400,isFromCookie:!1}}),600)},ifRememberMe:function(){g.a.get("rememberMe")&&JSON.parse(g.a.get("rememberMe"))&&g.a.getJSON("Login-Info")&&(this.loginForm=g.a.getJSON("Login-Info"),this.loginForm.validityTime=86400)},objectHasNull:function(e){var t=!1;return l["a"].mapObject(e,(function(e,i){""===e&&(t=!0)})),t},submitWarning:function(e){var t=this;this.isSuccess=!1,this.authError("警告",e),setTimeout((function(){t.isSuccess=!0}),1e3)},showTips:function(){var e=this;setTimeout((function(){e.longTimeTip("游客提示","请自行注册账号以体验完整的业务流程")}),100)}}},h=p,v=(i("52ab"),i("17c0"),i("2877")),k=Object(v["a"])(h,o,r,!1,null,"69406868",null);t["default"]=k.exports}}]);