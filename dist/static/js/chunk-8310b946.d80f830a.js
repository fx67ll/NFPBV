(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8310b946"],{"0a49":function(e,t,r){var i=r("9b43"),n=r("626a"),o=r("4bf8"),s=r("9def"),a=r("cd1c");e.exports=function(e,t){var r=1==e,l=2==e,c=3==e,u=4==e,m=6==e,f=5==e||m,g=t||a;return function(t,a,d){for(var p,h,v=o(t),y=n(v),b=i(a,d,3),F=s(y.length),k=0,O=r?g(t,F):l?g(t,0):void 0;F>k;k++)if((f||k in y)&&(p=y[k],h=b(p,k,v),e))if(r)O[k]=h;else if(h)switch(e){case 3:return!0;case 5:return p;case 6:return k;case 2:O.push(p)}else if(u)return!1;return m?-1:c||u?u:O}}},1169:function(e,t,r){var i=r("2d95");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"11e9":function(e,t,r){var i=r("52a7"),n=r("4630"),o=r("6821"),s=r("6a99"),a=r("69a8"),l=r("c69a"),c=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(r){}if(a(e,t))return n(!i.f.call(e,t),e[t])}},"1c01":function(e,t,r){var i=r("5ca1");i(i.S+i.F*!r("9e1e"),"Object",{defineProperty:r("86cc").f})},2388:function(e,t,r){},"2f21":function(e,t,r){"use strict";var i=r("79e5");e.exports=function(e,t){return!!e&&i((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"52ab":function(e,t,r){"use strict";r("533f")},"533f":function(e,t,r){},"58b2":function(e,t,r){var i=r("5ca1");i(i.S+i.F*!r("9e1e"),"Object",{defineProperties:r("1495")})},"8d81":function(e,t,r){var i;(function(n){"use strict";function o(e,t){var r=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(r>>16);return i<<16|65535&r}function s(e,t){return e<<t|e>>>32-t}function a(e,t,r,i,n,a){return o(s(o(o(t,e),o(i,a)),n),r)}function l(e,t,r,i,n,o,s){return a(t&r|~t&i,e,t,n,o,s)}function c(e,t,r,i,n,o,s){return a(t&i|r&~i,e,t,n,o,s)}function u(e,t,r,i,n,o,s){return a(t^r^i,e,t,n,o,s)}function m(e,t,r,i,n,o,s){return a(r^(t|~i),e,t,n,o,s)}function f(e,t){var r,i,n,s,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,g=-271733879,d=-1732584194,p=271733878;for(r=0;r<e.length;r+=16)i=f,n=g,s=d,a=p,f=l(f,g,d,p,e[r],7,-680876936),p=l(p,f,g,d,e[r+1],12,-389564586),d=l(d,p,f,g,e[r+2],17,606105819),g=l(g,d,p,f,e[r+3],22,-1044525330),f=l(f,g,d,p,e[r+4],7,-176418897),p=l(p,f,g,d,e[r+5],12,1200080426),d=l(d,p,f,g,e[r+6],17,-1473231341),g=l(g,d,p,f,e[r+7],22,-45705983),f=l(f,g,d,p,e[r+8],7,1770035416),p=l(p,f,g,d,e[r+9],12,-1958414417),d=l(d,p,f,g,e[r+10],17,-42063),g=l(g,d,p,f,e[r+11],22,-1990404162),f=l(f,g,d,p,e[r+12],7,1804603682),p=l(p,f,g,d,e[r+13],12,-40341101),d=l(d,p,f,g,e[r+14],17,-1502002290),g=l(g,d,p,f,e[r+15],22,1236535329),f=c(f,g,d,p,e[r+1],5,-165796510),p=c(p,f,g,d,e[r+6],9,-1069501632),d=c(d,p,f,g,e[r+11],14,643717713),g=c(g,d,p,f,e[r],20,-373897302),f=c(f,g,d,p,e[r+5],5,-701558691),p=c(p,f,g,d,e[r+10],9,38016083),d=c(d,p,f,g,e[r+15],14,-660478335),g=c(g,d,p,f,e[r+4],20,-405537848),f=c(f,g,d,p,e[r+9],5,568446438),p=c(p,f,g,d,e[r+14],9,-1019803690),d=c(d,p,f,g,e[r+3],14,-187363961),g=c(g,d,p,f,e[r+8],20,1163531501),f=c(f,g,d,p,e[r+13],5,-1444681467),p=c(p,f,g,d,e[r+2],9,-51403784),d=c(d,p,f,g,e[r+7],14,1735328473),g=c(g,d,p,f,e[r+12],20,-1926607734),f=u(f,g,d,p,e[r+5],4,-378558),p=u(p,f,g,d,e[r+8],11,-2022574463),d=u(d,p,f,g,e[r+11],16,1839030562),g=u(g,d,p,f,e[r+14],23,-35309556),f=u(f,g,d,p,e[r+1],4,-1530992060),p=u(p,f,g,d,e[r+4],11,1272893353),d=u(d,p,f,g,e[r+7],16,-155497632),g=u(g,d,p,f,e[r+10],23,-1094730640),f=u(f,g,d,p,e[r+13],4,681279174),p=u(p,f,g,d,e[r],11,-358537222),d=u(d,p,f,g,e[r+3],16,-722521979),g=u(g,d,p,f,e[r+6],23,76029189),f=u(f,g,d,p,e[r+9],4,-640364487),p=u(p,f,g,d,e[r+12],11,-421815835),d=u(d,p,f,g,e[r+15],16,530742520),g=u(g,d,p,f,e[r+2],23,-995338651),f=m(f,g,d,p,e[r],6,-198630844),p=m(p,f,g,d,e[r+7],10,1126891415),d=m(d,p,f,g,e[r+14],15,-1416354905),g=m(g,d,p,f,e[r+5],21,-57434055),f=m(f,g,d,p,e[r+12],6,1700485571),p=m(p,f,g,d,e[r+3],10,-1894986606),d=m(d,p,f,g,e[r+10],15,-1051523),g=m(g,d,p,f,e[r+1],21,-2054922799),f=m(f,g,d,p,e[r+8],6,1873313359),p=m(p,f,g,d,e[r+15],10,-30611744),d=m(d,p,f,g,e[r+6],15,-1560198380),g=m(g,d,p,f,e[r+13],21,1309151649),f=m(f,g,d,p,e[r+4],6,-145523070),p=m(p,f,g,d,e[r+11],10,-1120210379),d=m(d,p,f,g,e[r+2],15,718787259),g=m(g,d,p,f,e[r+9],21,-343485551),f=o(f,i),g=o(g,n),d=o(d,s),p=o(p,a);return[f,g,d,p]}function g(e){var t,r="",i=32*e.length;for(t=0;t<i;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function d(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function p(e){return g(f(d(e),8*e.length))}function h(e,t){var r,i,n=d(e),o=[],s=[];for(o[15]=s[15]=void 0,n.length>16&&(n=f(n,8*e.length)),r=0;r<16;r+=1)o[r]=909522486^n[r],s[r]=1549556828^n[r];return i=f(o.concat(d(t)),512+8*t.length),g(f(s.concat(i),640))}function v(e){var t,r,i="0123456789abcdef",n="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),n+=i.charAt(t>>>4&15)+i.charAt(15&t);return n}function y(e){return unescape(encodeURIComponent(e))}function b(e){return p(y(e))}function F(e){return v(b(e))}function k(e,t){return h(y(e),y(t))}function O(e,t){return v(k(e,t))}function N(e,t,r){return t?r?k(t,e):O(t,e):r?b(e):F(e)}i=function(){return N}.call(t,r,t,e),void 0===i||(e.exports=i)})()},"8e6e":function(e,t,r){var i=r("5ca1"),n=r("990b"),o=r("6821"),s=r("11e9"),a=r("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(e){var t,r,i=o(e),l=s.f,c=n(i),u={},m=0;while(c.length>m)r=l(i,t=c[m++]),void 0!==r&&a(u,t,r);return u}})},9093:function(e,t,r){var i=r("ce10"),n=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},"990b":function(e,t,r){var i=r("9093"),n=r("2621"),o=r("cb7c"),s=r("7726").Reflect;e.exports=s&&s.ownKeys||function(e){var t=i.f(o(e)),r=n.f;return r?t.concat(r(e)):t}},a0ac:function(e,t,r){"use strict";r("2388")},cd1c:function(e,t,r){var i=r("e853");e.exports=function(e,t){return new(i(e))(t)}},d25f:function(e,t,r){"use strict";var i=r("5ca1"),n=r("0a49")(2);i(i.P+i.F*!r("2f21")([].filter,!0),"Array",{filter:function(e){return n(this,e,arguments[1])}})},dd7b:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-box"},[r("div",{staticClass:"container",style:e.loginBoxAniStyle},[e._m(0),r("div",{staticClass:"form",class:{"form-shake":!this.isSuccess},style:e.loginFormAniStyle},[r("div",{staticClass:"form-login",class:this.isRegister?"form-toggle-none":"form-toggle-show"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.userName,expression:"loginForm.userName"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.loginForm.userName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin()},input:function(t){t.target.composing||e.$set(e.loginForm,"userName",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.passWord,expression:"loginForm.passWord"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.loginForm.passWord},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin()},input:function(t){t.target.composing||e.$set(e.loginForm,"passWord",t.target.value)}}}),r("el-button",{on:{click:function(t){return e.handleLogin()}}},[e._v("Login")]),r("p",{staticClass:"message"},[e._v("\n\t\t\t\t\t还没有账户?\n\t\t\t\t\t"),r("a",{attrs:{href:"#"},on:{click:function(t){return e.createAccount()}}},[e._v("立刻创建")])])],1),r("div",{staticClass:"form-register",class:this.isRegister?"form-toggle-show":"form-toggle-none"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.userName,expression:"registerForm.userName"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.registerForm.userName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"userName",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.passWord,expression:"registerForm.passWord"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.registerForm.passWord},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"passWord",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.confimPassWord,expression:"registerForm.confimPassWord"}],attrs:{type:"password",placeholder:"Confirm Password"},domProps:{value:e.registerForm.confimPassWord},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"confimPassWord",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.email,expression:"registerForm.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.registerForm.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.phone,expression:"registerForm.phone"}],attrs:{type:"text",placeholder:"Phone"},domProps:{value:e.registerForm.phone},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister()},input:function(t){t.target.composing||e.$set(e.registerForm,"phone",t.target.value)}}}),r("el-button",{on:{click:function(t){return e.handleRegister()}}},[e._v("Register")]),r("p",{staticClass:"message"},[e._v("\n\t\t\t\t\t已经有了一个账户?\n\t\t\t\t\t"),r("a",{attrs:{href:"#"},on:{click:function(t){return e.loginNow()}}},[e._v("立刻登录")])])],1)])]),r("el-dialog",{attrs:{title:"登录配置",visible:e.isNeedCookie,width:"390px",top:"170px","show-close":!1,"modal-append-to-body":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.isNeedCookie=t}}},[r("div",{staticClass:"tip-box"},[r("div",{staticClass:"tip-item"},[e._v("是否记住账号密码：")]),r("div",{staticClass:"tip-item"},[r("el-checkbox",{model:{value:e.isRememberMe,callback:function(t){e.isRememberMe=t},expression:"isRememberMe"}})],1)]),r("div",{staticClass:"tip-box"},[r("div",{staticClass:"tip-item"},[e._v("设置记住过期时间:")]),r("div",{staticClass:"tip-item"},[r("el-select",{attrs:{placeholder:"请选择记住过期时间"},model:{value:e.loginForm.validityTime,callback:function(t){e.$set(e.loginForm,"validityTime",t)},expression:"loginForm.validityTime"}},e._l(e.validityTimeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),r("div",{staticClass:"tip-box"},[e._v("Tips：暂不提供修改密码，如有需要请联系管理员 ~")]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkLoginOption()}}},[e._v("确\n\t\t\t\t定")])],1)]),e._m(1),r("fx67ll-footer",{attrs:{fontColor:"#ffffff"}})],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("\n\t\t\tWelcome! ヽ(✿ﾟ▽ﾟ)ノ\n\t\t\t"),r("br"),e._v("\n\t\t\tThis is fx67ll's Nodejs Project Powered By Express & MongoDB ~\n\t\t")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"bg-bubbles"},[r("li"),r("li"),r("li"),r("li"),r("li"),r("li"),r("li"),r("li"),r("li"),r("li")])}];r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("b775");function a(e){return Object(s["a"])({url:"/signup",method:"post",data:e})}function l(e){return Object(s["a"])({url:"/login",method:"post",data:e})}var c=r("c46f"),u=r("c1df"),m=r.n(u),f=r("a78e"),g=r.n(f),d=r("8d81"),p=r.n(d);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={name:"nodeLogin",data:function(){return{year:m()().format("YYYY"),isLogin:!1,isRegister:!1,isSuccess:!0,isNeedCookie:!1,isRememberMe:!1,validityTimeOptions:[{value:86400,label:"24小时"},{value:604800,label:"7天"},{value:2592e3,label:"30天"},{value:15552e3,label:"180天"},{value:31536e3,label:"365天"}],token:"",loginForm:{userName:"",passWord:"",validityTime:86400,isFromCookie:!1},registerForm:{userName:"",passWord:"",confimPassWord:"",email:"",phone:"",level:16},loginBoxAniStyle:{},loginFormAniStyle:{},originForm:{}}},mounted:function(){this.ifRememberMe(),document.body.clientWidth>1166&&this.showTips()},methods:{createAccount:function(){this.isRegister=!this.isRegister},loginNow:function(){this.isRegister=!this.isRegister},handleRegister:function(){var e=this,t=this;this.objectHasNull(this.registerForm)?this.submitWarning("注册信息均不能为空！"):this.registerForm.passWord===this.registerForm.confimPassWord?(this.originForm=v({},t.registerForm),delete this.registerForm.confimPassWord,this.registerForm.passWord=p()(this.registerForm.passWord),a(this.registerForm).then((function(r){0!==r.status&&(e.isSuccess=!1,t.registerForm=v({},t.originForm)),0===r.status&&(e.loginForm.userName=e.registerForm.userName,e.loginForm.passWord="",e.isRegister=!e.isRegister,e.authOK("提示","注册成功！请登录~",666),setTimeout((function(){t.registerForm={userName:"",passWord:"",confimPassWord:"",email:"",phone:"",level:16}}),1e3))}))):this.submitWarning("两次输入的密码不一致！")},handleLogin:function(){var e,t,r=this;this.objectHasNull(this.loginForm)?this.submitWarning("账号或密码不能为空！"):(this.isLogin=!this.isLogin,this.loginBoxAniStyle={transition:"all 0.6s",transform:"translateY(85px)"},this.loginFormAniStyle={transition:"all 0.6s",opacity:0},g.a.getJSON("Login-Info")?(e=g.a.getJSON("Login-Info").userName,t=g.a.getJSON("Login-Info").passWord):(e="",t=""),this.loginForm.isFromCookie&&this.loginForm.userName===e&&this.loginForm.passWord===t||(this.loginForm.passWord=p()(this.loginForm.passWord)),delete this.loginForm.isFromCookie,l(this.loginForm).then((function(e){0!==e.status&&r.finishedLogin(!1),0===e.status&&r.isNeedRememberMe(e)})).catch((function(e){r.finishedLogin(!1)})))},isNeedRememberMe:function(e){var t=this.loginForm.validityTime/86400,r=window.location.href;g.a.set("User-Token",e.token,{expires:t,path:r}),!g.a.get("rememberMe")||!g.a.getJSON("Login-Info")||g.a.getJSON("Login-Info")&&this.loginForm.userName!==g.a.getJSON("Login-Info").userName?(this.token=e.token,this.isNeedCookie=!0):this.finishedLogin(!0)},checkLoginOption:function(){var e=window.location.href;if(this.isRememberMe){var t=this.loginForm.validityTime/86400;g.a.remove("User-token"),g.a.set("User-Token",this.token,{expires:t,path:e}),g.a.set("rememberMe",this.isRememberMe,{path:e}),g.a.set("Login-Info",{userName:this.loginForm.userName,passWord:this.loginForm.passWord,validityTime:this.loginForm.validityTime,isFromCookie:!0},{path:e})}else g.a.remove("rememberMe"),g.a.remove("Login-Info");this.finishedLogin(!0)},finishedLogin:function(e){var t=this;e?(this.authOK("提示","登录成功！",666),setTimeout((function(){t.$router.push({name:"student"})}),600),setTimeout((function(){t.isLogin=!t.isLogin,t.isSuccess=e,t.loginForm={userName:"",passWord:"",validityTime:86400,isFromCookie:!1}}),1e3)):(t.isLogin=!t.isLogin,setTimeout((function(){t.$nextTick((function(){t.loginBoxAniStyle={transform:"translateY(0)",transition:"all 0.6s"},t.loginFormAniStyle={opacity:1,transition:"all 0.6s"}}))}),600),setTimeout((function(){t.loginForm={userName:t.loginForm.userName,passWord:"",validityTime:86400,isFromCookie:!1}}),600))},ifRememberMe:function(){g.a.get("rememberMe")&&JSON.parse(g.a.get("rememberMe"))&&g.a.getJSON("Login-Info")&&(this.loginForm=g.a.getJSON("Login-Info"),this.loginForm.validityTime=86400)},objectHasNull:function(e){var t=!1;return c["a"].mapObject(e,(function(e,r){""===e&&(t=!0)})),t},submitWarning:function(e){var t=this;this.isSuccess=!1,this.authError("警告",e,1023),setTimeout((function(){t.isSuccess=!0}),1e3)},showTips:function(){var e=this;setTimeout((function(){e.longTimeTip("游客提示","请自行注册账号以体验完整的业务流程",2333)}),100)}}},b=y,F=(r("52ab"),r("a0ac"),r("2877")),k=Object(F["a"])(b,i,n,!1,null,"b6d035f6",null);t["default"]=k.exports},e853:function(e,t,r){var i=r("d3f4"),n=r("1169"),o=r("2b4c")("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},f1ae:function(e,t,r){"use strict";var i=r("86cc"),n=r("4630");e.exports=function(e,t,r){t in e?i.f(e,t,n(0,r)):e[t]=r}},f3e2:function(e,t,r){"use strict";var i=r("5ca1"),n=r("0a49")(0),o=r("2f21")([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(e){return n(this,e,arguments[1])}})}}]);